
{% extends 'base.html' %}


{% block body %}

{% load static %}
<link rel="stylesheet" href="{% static 'mainpage/index.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'mainpage/table.css' %}" type="text/css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />

<body>
  <br>
  <div class="position-relative">
    <div class="container">
      <header>
      </header>

    <form id="form" role="form" action="." method="post">
      {% csrf_token %}

        <select multiple="multiple"
          name="pu_prefix"
          ic-post-to="{% url 'search-ajax-submit' %}"
          ic-trigger-on="change changed"
          ic-trigger-delay="300ms"
          ic-target="#tabledata">
          {% for pref in view.nus_prefixes %}
            <option>{{ pref }}</option>
          {% endfor %}
        </select>

        <input name="general"
          type="search"
          placeholder="Search NUS module codes, Partner University module codes or module titles. Eg. LSM1301"
          id="general-box"
          ic-post-to="{% url 'search-ajax-submit' %}"
          ic-trigger-on="keyup changed"
          ic-trigger-delay="300ms"
          ic-target="#tabledata"/>

        <select multiple="multiple"
          name="pu_name"
          ic-post-to="{% url 'search-ajax-submit' %}"
          ic-trigger-on="change changed"
          ic-trigger-delay="300ms"
          ic-target="#tabledata">
          {% for name in view.pu_namelist %}
            <option>{{ name }}</option>
          {% endfor %}
        </select>
    </form>

    <br>

      <table class="responsive-table highlight centered">
        <thead class="grey darken-3">
          <tr>
            <th scope="col">Select</th>
            <th scope="col">NUS Code</th>
            <th scope="col">NUS Credits</th>
            <th scope="col">PU Name</th>
            <th scope="col">PU Code</th>
            <th scope="col">PU Title</th>
            <th scope="col">PU Credits</th>
          </tr>
        </thead>

        <button class="btn wave-effect wave-light" type="button"
          onclick="selectAll()" id="select-all">
          Select all<i class="material-icons right">select_all</i>
        </button>
        <button class="btn wave-effect wave-light" type="button"
          onclick="saveSelected()" id="save-selected">
          Save selected<i class="material-icons right">save</i>
        </button>

        <tbody id="tabledata">
          {% include 'mainpage/results.html' %}
          {% block table-data %}
          {% endblock %}
        </tbody>
      </table>

    </div>
  </div>
</body>

{% endblock %}

{% block scripts %}

  {% load static %} 
  <script type ="text/javascript" src="{% static 'mainpage/index.js' %}">
  </script>
  <script type ="text/javascript" src="{% static 'mainpage/helper.js' %}">
  </script>
  <script src="https://intercoolerreleases-leaddynocom.netdna-ssl.com/intercooler-1.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

{% endblock %} 